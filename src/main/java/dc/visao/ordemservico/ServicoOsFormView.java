package dc.visao.ordemservico;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Property.ValueChangeEvent;
import com.vaadin.data.Property.ValueChangeListener;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.GridLayout;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.OptionGroup;
import com.vaadin.ui.PopupDateField;
import com.vaadin.ui.TextArea;
import com.vaadin.ui.TextField;
import com.vaadin.ui.VerticalLayout;

import dc.controller.ordemservico.ServicoOsFormController;
import dc.entidade.ordemservico.GrupoOsEntity;
import dc.entidade.ordemservico.SubGrupoOsEntity;
import dc.visao.framework.component.manytoonecombo.ManyToOneCombo;
import dc.visao.framework.component.manytoonecombo.ManyToOneComboField;
import dc.visao.framework.util.ComponentUtil;

public class ServicoOsFormView extends CustomComponent {

	private static final long serialVersionUID = 1L;

	@AutoGenerated
	private GridLayout fields;

	@AutoGenerated
	private VerticalLayout mainLayout;
	
	@AutoGenerated
	private TextField tfNome;

	@AutoGenerated
	private ManyToOneComboField<GrupoOsEntity> cbGrupo;
	
	@AutoGenerated
	private ManyToOneComboField<SubGrupoOsEntity> cbSubGrupo;

	@AutoGenerated
	private TextField tfAliquotaIssqn;

	@AutoGenerated
	private OptionGroup optTipoComissaoTecnico;
	
	@AutoGenerated
	private OptionGroup optTipoComissaoVendedor;

	@AutoGenerated
	private TextField tfValorComissaoTecnico;
		
	@AutoGenerated
	private TextField tfValorComissaoVendedor;

	@AutoGenerated
	private TextField tfValorServico;

	@AutoGenerated
	private TextField tfValorMinimoServico;

	@AutoGenerated
	private TextField tfGarantiaDia;

	@AutoGenerated
	private TextField tfRetorno;

	@AutoGenerated
	private TextField tfHoraGasta;

	@AutoGenerated
	private TextField tfValorPromocional;

	@AutoGenerated
	private PopupDateField dtVencimentoPromocao;

	@AutoGenerated
	private TextArea taObservacao;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_1;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_2;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_3;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_4;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_5;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_6;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_7;

	@AutoGenerated
	private HorizontalLayout horizontalLayout_8;
	
	private ServicoOsFormController controller;
	
	public ServicoOsFormView(ServicoOsFormController controller) {
		buildMainLayout();
		setCompositionRoot(mainLayout);
		this.controller = controller;
	}

	@AutoGenerated
	private VerticalLayout buildMainLayout() {

		setSizeFull();
		mainLayout = new VerticalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setSizeFull();
		mainLayout.setMargin(false);
		mainLayout.setSpacing(true);

		// top-level component properties
		setWidth("100.0%");
		// setHeight("100.0%");

		fields = buildFields();

		mainLayout.addComponent(fields);

		return mainLayout;
	}

	private GridLayout buildFields() {
		fields = new GridLayout();
		fields.setImmediate(false);
		fields.setWidth("100.0%");
		fields.setHeight("-1px");
		fields.setMargin(false);
		fields.setSpacing(true);
		fields.setRows(9);
		fields.setColumns(4);

		tfNome= ComponentUtil.buildTextField("Descrição");
		fields.addComponent(tfNome, 0, 1,1,1);
		
		// horizontalLayout_1
		horizontalLayout_1 = buildHorizontalLayout_1();
		fields.addComponent(horizontalLayout_1, 0, 2);

		// horizontalLayout_2
		horizontalLayout_2 = buildHorizontalLayout_2();
		fields.addComponent(horizontalLayout_2, 0, 3);

		// horizontalLayout_3
		horizontalLayout_3 = buildHorizontalLayout_3();
		fields.addComponent(horizontalLayout_3, 0, 4);
 
		// horizontalLayout_4
		horizontalLayout_4 = buildHorizontalLayout_4();
		fields.addComponent(horizontalLayout_4, 0, 5);

		horizontalLayout_6 = buildHorizontalLayout_6();
		fields.addComponent(horizontalLayout_6, 0, 6);

		horizontalLayout_7 = buildHorizontalLayout_7();
		fields.addComponent(horizontalLayout_7, 0, 7);

		horizontalLayout_8 = buildHorizontalLayout_8();
		fields.addComponent(horizontalLayout_8, 0, 8);

		return fields;
	}
	
	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_1() {
		// common part: create layout
		horizontalLayout_1 = new HorizontalLayout(); 
		horizontalLayout_1.setImmediate(false);
		horizontalLayout_1.setWidth("-1px");
		horizontalLayout_1.setHeight("100.0%");
		horizontalLayout_1.setMargin(false);
		horizontalLayout_1.setSpacing(true);

		cbGrupo = new ManyToOneComboField<>(GrupoOsEntity.class);
		cbGrupo.setCaption("Grupo");
		cbGrupo.addValueChangeListener(new ValueChangeListener() {
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				controller.getSubgrupo("grupo", cbGrupo.getValue().getId());
			}
			
		});
		horizontalLayout_1.addComponent(cbGrupo);

		cbSubGrupo = new ManyToOneComboField<>(SubGrupoOsEntity.class);
		cbSubGrupo.setCaption("Subgrupo");
		horizontalLayout_1.addComponent(cbSubGrupo);

		return horizontalLayout_1;
	}
	
	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_2() {
		// common part: create layout
		horizontalLayout_2 = new HorizontalLayout();
		horizontalLayout_2.setImmediate(false);
		horizontalLayout_2.setWidth("-1px");
		horizontalLayout_2.setHeight("100.0%");
		horizontalLayout_2.setMargin(false);
		horizontalLayout_2.setSpacing(true);

		tfAliquotaIssqn = ComponentUtil.buildPercentageField("Aliquto Issqn %");
		horizontalLayout_2.addComponent(tfAliquotaIssqn);

		tfHoraGasta = ComponentUtil.buildNumberField("Hs.");
		horizontalLayout_2.addComponent(tfHoraGasta);
		
		tfValorServico = ComponentUtil.buildCurrencyField("Valor do serviço");
		horizontalLayout_2.addComponent(tfValorServico);

		tfValorMinimoServico = ComponentUtil.buildCurrencyField("Valor mínimo do serviço");
		horizontalLayout_2.addComponent(tfValorMinimoServico);

		return horizontalLayout_2;
		
	}
	
	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_3() {

		horizontalLayout_3 = new HorizontalLayout();
		horizontalLayout_3.setImmediate(false);
		horizontalLayout_3.setWidth("-1px");
		horizontalLayout_3.setHeight("100.0%");
		horizontalLayout_3.setMargin(false);
		horizontalLayout_3.setSpacing(true);

		tfValorComissaoTecnico = ComponentUtil.buildNumberField("Valor Comissão Técnico");
		horizontalLayout_3.addComponent(tfValorComissaoTecnico);
		
		// tipo de comissão do técnico
		optTipoComissaoTecnico= new OptionGroup();
		optTipoComissaoTecnico.setStyleName("horizontal");
		optTipoComissaoTecnico.setCaption("Tipo comissão");
		optTipoComissaoTecnico.setImmediate(false);
		optTipoComissaoTecnico.setWidth("-1px");
		optTipoComissaoTecnico.setHeight("-1px");
		optTipoComissaoTecnico.addItem("R");
		optTipoComissaoTecnico.setItemCaption("R", "Valor em real");
		optTipoComissaoTecnico.addItem("P");
		optTipoComissaoTecnico.setItemCaption("P", "Porcentagem");
		horizontalLayout_3.addComponent(optTipoComissaoTecnico);

		return horizontalLayout_3;
		
	}

	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_4() {

		horizontalLayout_4 = new HorizontalLayout();
		horizontalLayout_4.setImmediate(false);
		horizontalLayout_4.setWidth("-1px");
		horizontalLayout_4.setHeight("100.0%");
		horizontalLayout_4.setMargin(false);
		horizontalLayout_4.setSpacing(true);

		tfValorComissaoVendedor = ComponentUtil.buildNumberField("Valor Comissão Vendedor");
		horizontalLayout_4.addComponent(tfValorComissaoVendedor);

		// tipo de comissão do vendedor
		optTipoComissaoVendedor= new OptionGroup();
		optTipoComissaoVendedor.setStyleName("horizontal");
		optTipoComissaoVendedor.setCaption("Tipo comissão");
		optTipoComissaoVendedor.setImmediate(false);
		optTipoComissaoVendedor.setWidth("-1px");
		optTipoComissaoVendedor.setHeight("-1px");
		optTipoComissaoVendedor.addItem("R");
		optTipoComissaoVendedor.setItemCaption("R", "Valor em real");
		optTipoComissaoVendedor.addItem("P");
		optTipoComissaoVendedor.setItemCaption("P", "Porcentagem");
		horizontalLayout_4.addComponent(optTipoComissaoVendedor);
		
		return horizontalLayout_4;
		
	}
	
	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_6() {

		horizontalLayout_6 = new HorizontalLayout();
		horizontalLayout_6.setImmediate(false);
		horizontalLayout_6.setWidth("-1px");
		horizontalLayout_6.setHeight("100.0%");
		horizontalLayout_6.setMargin(false);
		horizontalLayout_6.setSpacing(true);

		tfGarantiaDia = ComponentUtil.buildNumericField("Garantia em Dias");
		horizontalLayout_6.addComponent(tfGarantiaDia);

		tfRetorno = ComponentUtil.buildNumericField("Retorno após conclusão do serviço");
		horizontalLayout_6.addComponent(tfRetorno);

		return horizontalLayout_6;
		
	}

	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_7() {

		horizontalLayout_7 = new HorizontalLayout();
		horizontalLayout_7.setImmediate(false);
		horizontalLayout_7.setWidth("-1px");
		horizontalLayout_7.setHeight("100.0%");
		horizontalLayout_7.setMargin(false);
		horizontalLayout_7.setSpacing(true);

//		tfAtiva = new TextField();
//		tfAtiva.setCaption("Ativa");
//		horizontalLayout_7.addComponent(tfAtiva);

		tfValorPromocional = ComponentUtil.buildCurrencyField("Valor promocional");
		horizontalLayout_7.addComponent(tfValorPromocional);

		dtVencimentoPromocao = ComponentUtil.buildPopupDateField("Vencimento promoção");;
		horizontalLayout_7.addComponent(dtVencimentoPromocao);
		
		return horizontalLayout_7;
		
	}

	@AutoGenerated
	private HorizontalLayout buildHorizontalLayout_8() {

		horizontalLayout_8 = new HorizontalLayout();
		horizontalLayout_8.setImmediate(false);
		horizontalLayout_8.setWidth("-1px");
		horizontalLayout_8.setHeight("100.0%");
		horizontalLayout_8.setMargin(false);
		horizontalLayout_8.setSpacing(true);

		taObservacao = ComponentUtil.buildTextArea("Observação");
		taObservacao.setCaption("Observação");
		taObservacao.setWidth("600px");
		horizontalLayout_8.addComponent(taObservacao);

		return horizontalLayout_8;
		
	}

	public GridLayout getFields() {
		return fields;
	}

	public void setFields(GridLayout fields) {
		this.fields = fields;
	}

	public VerticalLayout getMainLayout() {
		return mainLayout;
	}

	public void setMainLayout(VerticalLayout mainLayout) {
		this.mainLayout = mainLayout;
	}

	public TextField getTfNome() {
		return tfNome;
	}

	public void setTfNome(TextField tfNome) {
		this.tfNome = tfNome;
	}

	public ManyToOneComboField<GrupoOsEntity> getCbGrupo() {
		return cbGrupo;
	}

	public void setCbGrupo(ManyToOneComboField<GrupoOsEntity> cbGrupo) {
		this.cbGrupo = cbGrupo;
	}

	public ManyToOneComboField<SubGrupoOsEntity> getCbSubGrupo() {
		return cbSubGrupo;
	}

	public void setCbSubGrupo(ManyToOneComboField<SubGrupoOsEntity> cbSubGrupo) {
		this.cbSubGrupo = cbSubGrupo;
	}

	public TextField getTfAliquotaIssqn() {
		return tfAliquotaIssqn;
	}

	public void setTfAliquotaIssqn(TextField tfAliquotaIssqn) {
		this.tfAliquotaIssqn = tfAliquotaIssqn;
	}

	public TextField getTfValorComissaoTecnico() {
		return tfValorComissaoTecnico;
	}

	public void setTfValorComissaoTecnico(TextField tfValorComissaoTecnico) {
		this.tfValorComissaoTecnico = tfValorComissaoTecnico;
	}

	public TextField getTfValorComissaoVendedor() {
		return tfValorComissaoVendedor;
	}

	public void setTfValorComissaoVendedor(TextField tfValorComissaoVendedor) {
		this.tfValorComissaoVendedor = tfValorComissaoVendedor;
	}

	public TextField getTfGarantiaDia() {
		return tfGarantiaDia;
	}

	public void setTfGarantiaDia(TextField tfGarantiaDia) {
		this.tfGarantiaDia = tfGarantiaDia;
	}

	public TextField getTfRetorno() {
		return tfRetorno;
	}

	public void setTfRetorno(TextField tfRetorno) {
		this.tfRetorno = tfRetorno;
	}

	public TextField getTfHoraGasta() {
		return tfHoraGasta;
	}

	public void setTfHoraGasta(TextField tfHoraGasta) {
		this.tfHoraGasta = tfHoraGasta;
	}

	public TextField getTfValorPromocional() {
		return tfValorPromocional;
	}

	public void setTfValorPromocional(TextField tfValorPromocional) {
		this.tfValorPromocional = tfValorPromocional;
	}

	public PopupDateField getDtVencimentoPromocao() {
		return dtVencimentoPromocao;
	}

	public void setDtVencimentoPromocao(PopupDateField dtVencimentoPromocao) {
		this.dtVencimentoPromocao = dtVencimentoPromocao;
	}

	public TextArea getTaObservacao() {
		return taObservacao;
	}

	public void setTaObservacao(TextArea taObservacao) {
		this.taObservacao = taObservacao;
	}

	public TextField getTfValorServico() {
		return tfValorServico;
	}

	public void setTfValorServico(TextField tfValorServico) {
		this.tfValorServico = tfValorServico;
	}

	public TextField getTfValorMinimoServico() {
		return tfValorMinimoServico;
	}

	public void setTfValorMinimoServico(TextField tfValorMinimoServico) {
		this.tfValorMinimoServico = tfValorMinimoServico;
	}

	public OptionGroup getOptTipoComissaoTecnico() {
		return optTipoComissaoTecnico;
	}

	public void setOptTipoComissaoTecnico(OptionGroup optTipoComissaoTecnico) {
		this.optTipoComissaoTecnico = optTipoComissaoTecnico;
	}

	public OptionGroup getOptTipoComissaoVendedor() {
		return optTipoComissaoVendedor;
	}

	public void setOptTipoComissaoVendedor(OptionGroup optTipoComissaoVendedor) {
		this.optTipoComissaoVendedor = optTipoComissaoVendedor;
	}
}

